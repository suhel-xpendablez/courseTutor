
<!DOCTYPE html>
<html>
<head>
  <title></title>
  <style>
  button.accordion {
    background-color: #eee;
    color: #444;
    cursor: pointer;
    padding: 18px;
    width: 100%;
    border: none;
    text-align: left;
    outline: none;
    font-size: 15px;
    transition: 0.4s;
  }

  button.accordion.active, button.accordion:hover {
    background-color: #ddd;
  }
  div.panel1 {
    padding: 0 18px;
    display: block;
    background-color: white;
  }
  div.panel {
    padding: 0 18px;
    display: none;
    background-color: white;
  }
  </style>
</head>
<body>
<div id="mainDiv">
</div>
</br>
<button id="previous" onclick="prevFunction()">Prev</button>
<button id="next" onclick="nextFunction()">Next</button>
</body>
<script>

var chapters = [{
  id:123,
  chapterName:'section 1',
  subTopic: 'section 1 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.'
},
{
  id:122,
  chapterName:'section 2',
  subTopic: 'section 2 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.'
},
{
  id:121,
  chapterName:'section 3',
  subTopic: 'section 3 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.'
},
{
  id:112,
  chapterName:'section 4',
  subTopic: 'section 4 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.'
}
]

var model = chapters;
var divEle = document.getElementById('mainDiv');
var count = 0;
var btnNext = document.getElementById('next');
var btnPrev = document.getElementById('previous');
var contentView = function(){
  var content = chapters;
  for(var i=0; i<content.length; i++){
    var buttonEle = document.createElement('button');
    buttonEle.setAttribute("class", "accordion");
    var divElem1 = document.createElement('div');
    var spanElem = document.createElement('span');
    divElem1.setAttribute("class", "panel");
    buttonEle.textContent = content[i].chapterName;
    spanElem.textContent = content[i].subTopic;
    var btnPrev = document.getElementById('previous');
    if(i==0){
      divElem1.style.display='block';
      btnPrev.disabled = true;
      count++;
    }
    buttonEle.addEventListener('click', (function(i){
      return function(){
        var toggle = document.getElementsByClassName("panel");
        if(toggle[i].style.display == 'block'){
          toggle[i].style.display = 'none';
        }else {
          toggle[i].style.display = 'block';
        }
        prevFunction();
      }
    })(i));
    divElem1.appendChild(spanElem);
    divEle.appendChild(buttonEle);
    divEle.appendChild(divElem1);
  }
}
contentView();
function nextFunction(){
  if(count == model.length){
    btnNext.disabled = true;
  }
  else {
    btnPrev.disabled = false;
    var toggle = document.getElementsByClassName("panel");
    toggle[count].style.display = 'block';
    toggle[count-1].style.display = 'none';
    count++;
  }
}
function prevFunction(){
  if(count == 1){
    console.log("Inside If");
    btnPrev.disabled = true;
  }
  else {
    count--;
    btnNext.disabled = false;
    var toggle = document.getElementsByClassName("panel");
    console.log(count);
    toggle[count].style.display = 'none';
    toggle[count-1].style.display = 'block';
    // count--;
  }

}
</script>
</html>
